# 第三章：基礎概念

本文首先將介紹程式設計的基本概念，包括從程式碼 -> 執行檔的過程與計算機相關的基本概念，讓我們在開始學習程式開發前能夠擁有足夠的基本概念。

直接開始學習 C++ 語法請點擊此連結:[C++入門](#c-程式碼基本結構)

## 程式設計的基本概念

程式設計的基本概念包含程式語言、程式設計工具、程式設計流程、程式設計模式、程式設計原則等。

### 程式語言

程式語言 (programming language) 是一種用來撰寫計算機程式的語言，它是一種文字語法，用來表達計算機程序的各種指令。

目前，最常見的程式語言有 C、C++、Java、Python、JavaScript 等。

## 從程式碼到執行檔

程式原始碼 (source code) 是用某種程式語言撰寫的文字檔，包含了程式的原始碼。要將原始碼編譯成執行檔 (executable file) 讓電腦可以執行，需要以下步驟：

1. 預處理器 (preprocessor)：處理原始碼中的巨集 (macro) 定義。
2. 編譯器 (compiler)：將原始碼編譯成組合語言 (assembly language)。
3. 組譯器 (assembler)：將組合語言編譯成機器碼。
4. 連結器 (linker)：將各個模組連結成執行檔。
5. 載入器 (loader)：將執行檔載入記憶體，讓程式可以運行。

![how to compile a program](image.png)

編譯器 (compiler) 是一個程式，它會將程式碼編譯成組合語言，也就是電腦可以理解的指令。

編譯器的工作流程通常包含以下步驟：

1. 語法分析 (Syntax analysis)：檢查程式碼的語法是否正確。
2. 語意分析 (Semantic analysis)：檢查程式碼的語意是否合理。
3. 程式碼生成 (Code generation)：將程式碼轉換成組合語言。
4. 組譯 (assembler)：將組合語言編譯成機器碼。  

編譯器的輸出通常是一個執行檔，也就是一個可以被電腦執行的檔案。

## 計算機相關的基本概念

計算機 (computer) 是一個可以執行計算的機器，它由硬體和軟體組成。

硬體 (hardware) 是指計算機的實體組成，包含主板、記憶體、輸入輸出裝置、網路卡、CPU、GPU、硬碟等。

軟體 (software) 是指計算機的軟體組成，包含作業系統、應用程式、網頁瀏覽器、資料庫管理系統等。

### 記憶體

記憶體 (memory) 是一個存放資料的部位，它是一個電腦的重要部位，所有的資料都必須存在記憶體中才能被讀取或修改。

記憶體通常分為兩種：

1. 主記憶體(main memory)：主要存放程式運行時所需的資料。
2. 額外記憶體(secondary memory)：主要存放資料，例如硬碟、光碟等。

### 指令集

指令集 (instruction set) 是指一種電腦可以執行的命令集合。

指令集通常包含以下指令：

1. 輸入輸出指令 (input/output instructions)：用來讀取或輸出資料。
2. 算術指令 (arithmetic instructions)：用來執行數學運算。
3. 控制指令 (control instructions)：用來控制程式的執行流程。
4. 資料轉換指令 (data transfer instructions)：用來讀取或修改資料。
5. 記憶體管理指令 (memory management instructions)：用來管理記憶體。

### 運算元

運算元 (operand) 是指一個計算式中的數值。

運算元通常分為以下類型：

1. 變數 (variable)：用來存放資料的記憶體位置。
2. 常數 (constant)：一個固定值。
3. 運算式 (expression)：一個由運算子和運算元組成的計算式。
4. 運算子 (operator)：一個用來對運算式進行運算的符號。

### 指令

指令 (instruction) 是指一個計算機可以執行的動作。

指令通常包含以下內容：

1. 操作碼 (opcode)：用來表示指令的功能。
2. 運算元 (operand)：用來指定指令的操作數。
3. 指標 (pointer)：用來指定資料的位置。
4. 地址 (address)：用來指定指令的位置。

## C++ 程式碼基本結構
這是一個常見、最簡單的 C++ 程式碼架構

```cpp
#include <iostream>
using namespace std;

int main() {
    // 這是一個 C++ 程式碼範例
    cout << "Hello, World!" << endl;
    return 0;
}
```
程式碼就像一篇給電腦看的「食譜」，而電腦就是一位非常聽話、但完全沒有創造力的廚師。你必須把每個步驟都寫得清清楚楚，它才能照著做。

現在，我們就來當個美食評論家，一步步拆解這份「食譜」，看看它到底在做什麼。

---

### 1. `#include <iostream>`：準備你的工具箱

想像一下，你要做一道蛋糕，但你手上什麼都沒有。你需要一個「工具箱」，裡面要有烤箱、打蛋器、量杯等等。

在 C++ 裡，`#include` 就是一個「**引用**」或「**包含**」的指令。它告訴電腦：「嘿，等一下我要用的功能，都放在一個叫做 `iostream` 的工具箱裡，你先幫我把它準備好。」

*   **`#include`**：可以理解成「**請把...拿過來給我**」。
*   **`<iostream>`**：這是一個 C++ 的標準「**工具箱**」（技術上稱為**函式庫 (Library)**）。它的名字是 **i-o-stream**（Input-Output Stream，輸入輸出串流）的縮寫，裡面放滿了處理「輸入」（例如：從鍵盤讀取文字）和「輸出」（例如：在螢幕上顯示文字）的工具。

> **一句話比喻：** 在做菜前，先把裝滿了廚具的「輸入輸出工具箱 (`iostream`)」拿到廚房。沒有這個工具箱，你連最基本的「把字顯示在螢幕上」都做不到。

---

### 2. `using namespace std;`：指定工具的品牌

你的工具箱可能有很多隔層或品牌，例如「專業牌」、「家庭牌」。為了方便，你可以先跟助手說：「接下來我說的工具，全部都是『標準牌 (`std`)』的，不用再特別提醒我了！」

在 C++ 中，許多標準工具都放在一個叫做 `std` 的「**命名空間 (namespace)**」裡，可以把它想像成一個品牌或分類標籤。

*   **`using namespace std;`** 這句話的意思是：「**接下來，我會使用 `std` 這個標準品牌的所有工具，你直接用就對了，不用我每次都喊全名。**」

如果沒有這行，你之後要用「在螢幕上顯示文字」這個工具時，就必須寫成 `std::cout`，非常囉嗦。有了這行，你就可以直接寫 `cout`，方便多了。

> **一句話比喻：** 為了方便，你先跟廚房助手說好：「等下我喊『打蛋器』，指的就是『標準牌』的那個，不用再問了！」

**但是要注意**
*   這樣的方便適合在競賽時或是臨時測試時使用。在一般的程式開發情況下，會盡量避免或是謹慎使用這種「簡稱」的方式，避免出現命名重複而導致污染的狀況發生。(簡單來講就是可能會混淆不同命名空間先通名字的功能/函數。)

---

### 3. `int main() { ... }`：食譜的主要步驟

任何一份食譜，都會有一個「主要步驟」或「從這裡開始」的段落。在 C++ 程式中，這個起點就是 `main()`。

*   **`main`**：就是「**主要的**」意思。電腦拿到你的程式碼後，會自動找到一個叫做 `main` 的地方，然後**從這裡開始執行**。它是整個程式的入口，絕對不能少。
*   **`int`**：是 integer（整數）的縮寫。它代表這個 `main` 任務完成後，會回報一個「**整數**」的結果給作業系統（例如 Windows 或 macOS），用來表示任務是否成功。
*   **`()`**：括號代表 `main` 是一個「**任務**」或「**函式 (function)**」。
*   **`{ ... }`**：這對大括號，就像是食譜步驟的「**開始**」與「**結束**」。所有寫在這對大括號裡面的指令，都屬於 `main` 這個主要任務的一部分。

> **一句話比喻：** `int main() { ... }` 就像食譜上寫著「**主要步驟（完成後回報一個數字成果）**」，而大括號 `{` 和 `}` 標示了主要步驟的範圍。

---

### 4. `// 這是一個 C++ 程式碼範例`：給自己看的筆記

在食譜旁邊，你可能會用鉛筆寫下一些註記，像是「這裡糖可以少放一點」或「媽媽最愛這個味道」。這些註記是給人看的，廚師（電腦）會完全忽略它們。

在 C++ 中，以 `//` 開頭的文字叫做「**註解 (comment)**」。電腦在執行時會**完全跳過**這一行。註解的目的是為了幫助程式設計師（也就是你！）或其他看你程式碼的人，能夠更容易理解這段程式在做什麼。

> **一句話比喻：** 這是你寫在食譜空白處的筆記，電腦會自動無視。

---

### 5. `cout << "Hello, World!" << endl;`：最重要的指令

這是我們食譜中真正要做菜的步驟！讓我們把它拆得更細一點。

*   **`cout`**：念作 "c-out"。這是我們從 `iostream` 工具箱裡拿出來的工具，它的功能就是「**字元輸出 (Character Output)**」，簡單來說，就是把一些字元輸出，而輸出在哪則由你執行的環境、系統決定。一般來說，我們如果在終端機 (Terminal) 上執行程式，輸出的字元就會顯示在螢幕上。
*   **`<<`**：這是一個「**插入運算子 (insertion operator)**」。你可以把它想像成一個**箭頭**，代表「**把右邊的東西，丟到左邊去**」。
*   **`"Hello, World!"`**：這是一串**文字**。在 C++ 中，用雙引號 `"` 包起來的內容，都會被當作純文字來處理。
*   **`endl`**：念作 "end-line"（行的結尾）。它的作用就像是你在鍵盤上按下 **Enter 鍵**，它會**換到下一行**。
*   **`;`**：**分號**！這是 C++ 中最重要的符號之一。它就像是中文的「**句號**」。它告訴電腦：「**這條指令到這裡結束了。**」每一條獨立的指令後面，幾乎都必須加上分號。

所以，整句話連起來的意思就是：

把 **`"Hello, World!"`** 這段文字  `<<` (丟給) **`cout`** 
然後，再把 **`endl`** (換行符號) `<<` (丟給) **`cout`** 
最後用 **`;`**結束這條指令。

> **一句話比喻：** 把「Hello, World!」這張紙條，貼到螢幕上，然後換行，這件事做完了。

---

### 6. `return 0;`：報告任務成功！

在 `main` 任務的最後，我們要回報任務成果。記得嗎？我們在 `int main()` 的 `int` 就承諾過要回報一個整數。

*   **`return 0;`**：就是「**回傳數字 0**」的意思。在程式設計的慣例中，`0` 代表「**程式順利執行完畢，沒有任何問題**」。如果程式出錯了，可能會回傳 `1` 或其他非零的數字。

> **一句話比喻：** 蛋糕做好了！向老闆回報：「任務代碼 0，一切順利！」

---

恭喜你！你已經成功解讀了你的第一個 C++ 程式。程式設計就是這樣，把一個大目標，拆解成一行行電腦能懂的、精確無比的指令。接下來，試著修改雙引號裡的文字，看看會發生什麼事吧！